# üì± QR Code Reader & Decoder

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è QR-–∫–æ–¥–æ–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –°–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- **–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** (`main.py`) - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä OpenCV
- **–ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** (`src/`) - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –Ω—É–ª—è –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π](#–¥–µ—Ç–∞–ª—å–Ω–æ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–º–æ–¥—É–ª–µ–π)
- [–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã](#–∞–ª–≥–æ—Ä–∏—Ç–º-—Ä–∞–±–æ—Ç—ã)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- OpenCV
- NumPy
- Reed-Solomon –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—à–∏–±–æ–∫

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv .venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
# Windows:
.venv\Scripts\activate
# Linux/macOS:
source .venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
pip install -r requirements.txt
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `opencv-python` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π QR –¥–µ—Ç–µ–∫—Ç–æ—Ä
- `numpy` - —á–∏—Å–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Å—Å–∏–≤–∞–º–∏
- `reedsolo` - –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –æ—à–∏–±–æ–∫ –†–∏–¥–∞-–°–æ–ª–æ–º–æ–Ω–∞
- `Pillow` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ OpenCV (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
python main.py images/qr_image.png
```

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–µ—Ç–µ–∫—Ç–æ—Ä OpenCV –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑ src/

```bash
python main.py images/qr_image.png --custom
# –∏–ª–∏ –∫–æ—Ä–æ—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è:
python main.py images/qr_image.png -c
```

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª–Ω—É—é –∫–∞—Å—Ç–æ–º–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ QR-–∫–æ–¥–æ–≤.

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | OpenCV (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (--custom) |
|----------------|----------------------|--------------------------------|
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ‚ö° –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è | üê¢ –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (–ø–µ—Ä–µ–±–æ—Ä –≤–µ—Ä—Å–∏–π) |
| **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** | ‚úÖ –í—ã—Å–æ–∫–∞—è | ‚ö†Ô∏è –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| **–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å** | ‚ùå –ù–∏–∑–∫–∞—è (—á–µ—Ä–Ω—ã–π —è—â–∏–∫) | ‚úÖ –í—ã—Å–æ–∫–∞—è (–≤–∏–¥–Ω–æ –≤—Å–µ —ç—Ç–∞–ø—ã) |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ—Ä—Å–∏–π** | ‚úÖ –í—Å–µ –≤–µ—Ä—Å–∏–∏ | ‚ö†Ô∏è –í–µ—Ä—Å–∏–∏ 1-5 (—Ä–∞—Å—à–∏—Ä—è–µ–º–æ) |
| **–û—Ç–ª–∞–¥–∫–∞** | ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è | ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** | –ü—Ä–æ–¥–∞–∫—à–Ω, –±—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ | –û–±—É—á–µ–Ω–∏–µ, –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤, –æ—Ç–ª–∞–¥–∫–∞ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ OpenCV –¥–ª—è –æ–±—ã—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –∫–∞—Å—Ç–æ–º–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é - –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
QR_code/
‚îú‚îÄ‚îÄ main.py                 # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å –¥–≤—É–º—è –º–µ—Ç–æ–¥–∞–º–∏:
‚îÇ                           #   - run_image() - OpenCV –¥–µ—Ç–µ–∫—Ç–æ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
‚îÇ                           #   - run_image_custom() - –∫–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (--custom)
‚îú‚îÄ‚îÄ src/                    # –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è QR –¥–µ–∫–æ–¥–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ detector.py         # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ QR-–∫–æ–¥–æ–≤ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ sampler.py          # –°–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ decoder.py          # –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ utils.py            # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ version_info.py     # –¢–∞–±–ª–∏—Ü—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–µ—Ä—Å–∏–π QR-–∫–æ–¥–æ–≤
‚îú‚îÄ‚îÄ images/                 # –¢–µ—Å—Ç–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ amir/                   # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
```

---

## üìö –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π

### 1. `main.py` - –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–æ–≤ —Å –¥–≤—É–º—è –º–µ—Ç–æ–¥–∞–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

#### `run_image(path, debug_out='debug.png')` - OpenCV —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
–ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ OpenCV:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `cv2.QRCodeDetector()` –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è
- –†–∏—Å—É–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã QR-–∫–æ–¥–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ –ø—Ä–æ–±—É–µ—Ç –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫—É (–∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è, Otsu)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ –ø–µ—Ä–≤–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —É–≥–ª–æ–≤ QR-–∫–æ–¥–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω–æ–≥–æ QR-–∫–æ–¥–∞ (`warped.png`)

#### `run_image_custom(path, debug_out='debug_custom.png')` - –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
–ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –Ω—É–ª—è –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥—É–ª–∏ –∏–∑ `src/` –¥–ª—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–±–∏–ª–∞—Ç–µ—Ä–∞–ª—å–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä, –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è)
- –ü–æ–∏—Å–∫ finder patterns —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç—É—Ä—ã
- –ù–∞—Ö–æ–∂–¥–µ–Ω–∏–µ —É–≥–ª–æ–≤ QR-–∫–æ–¥–∞
- –ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ (–ø—Ä–æ–±—É–µ—Ç –≤–µ—Ä—Å–∏–∏ 1-5)
- –°–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º
- –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–µ—Ä–µ–±–æ—Ä–æ–º –º–∞—Å–æ–∫ –∏ —É—Ä–æ–≤–Ω–µ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Fallback –Ω–∞ OpenCV –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è finder patterns
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (`warped_custom.png`)
- –î–µ—Ç–∞–ª—å–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –í—ã–≤–æ–¥ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–≤–µ—Ä—Å–∏—è, —É—Ä–æ–≤–µ–Ω—å –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏, –º–∞—Å–∫–∞)

---

### 2. `src/detector.py` - –î–µ—Ç–µ–∫—Ç–æ—Ä QR-–∫–æ–¥–æ–≤

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ QR-–∫–æ–¥–æ–≤ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

#### `preprocess(img) -> (bin_img, gray)`
–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ grayscale
- –ë–∏–ª–∏–Ω–µ–π–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è —Å –±–æ–ª—å—à–∏–º —Ä–∞–∑–º–µ—Ä–æ–º –±–ª–æ–∫–∞ (25x25)

#### `find_contours_candidates(bin_img) -> (candidates, all_quads)`
–ü–æ–∏—Å–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –Ω–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏:
- –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –∫–æ–Ω—Ç—É—Ä—ã –Ω–∞ –±–∏–Ω–∞—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏
- –ê–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç—É—Ä—ã –¥–æ —á–µ—Ç—ã—Ä–µ—Ö—É–≥–æ–ª—å–Ω–∏–∫–æ–≤
- –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (finder patterns –∏–º–µ—é—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—É—Ä—ã)

#### `is_valid_finder_pattern(contour, bin_img) -> bool`
–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ finder pattern:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ (–º–∏–Ω–∏–º—É–º 20x20 –ø–∏–∫—Å–µ–ª–µ–π)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω (–Ω–µ –±–æ–ª–µ–µ 1.5:1)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ —á–µ—Ä–Ω—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç—É—Ä–∞

#### `find_finder_patterns(bin_img) -> List[np.ndarray]`
–ü–æ–∏—Å–∫ —Ç—Ä–µ—Ö –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫:
- –§–∏–ª—å—Ç—Ä—É–µ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –ø–æ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏
- –í—ã–±–∏—Ä–∞–µ—Ç —Ç—Ä–∏ —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö –ø–æ –ø–ª–æ—â–∞–¥–∏
- Fallback –Ω–∞ –≤—Å–µ —á–µ—Ç—ã—Ä–µ—Ö—É–≥–æ–ª—å–Ω–∏–∫–∏, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–∞–ª–∏–¥–Ω—ã—Ö

#### `calculate_center(contour) -> (cx, cy)`
–í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ü–µ–Ω—Ç—Ä–∞ –∫–æ–Ω—Ç—É—Ä–∞:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–º–µ–Ω—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- Fallback –Ω–∞ —Å—Ä–µ–¥–Ω–µ–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø—Ä–∏ –Ω—É–ª–µ–≤–æ–π –ø–ª–æ—â–∞–¥–∏

#### `find_qr_corners(finders, img_shape=None) -> np.ndarray`
–ù–∞—Ö–æ–∂–¥–µ–Ω–∏–µ —É–≥–ª–æ–≤ QR-–∫–æ–¥–∞:
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–æ–≤–Ω–æ 3 –º–µ—Ç–∫–∏ –∏–ª–∏ –±–æ–ª—å—à–µ (–≤—ã–±–∏—Ä–∞–µ—Ç —Ç—Ä–∏ —Å–∞–º—ã–µ —É–¥–∞–ª–µ–Ω–Ω—ã–µ)
- –£–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–µ—Ç —Ç–æ—á–∫–∏: TL (top-left), TR (top-right), BR (bottom-right), BL (bottom-left)
- –í—ã—á–∏—Å–ª—è–µ—Ç —á–µ—Ç–≤–µ—Ä—Ç—ã–π —É–≥–æ–ª –ø–æ –≥–µ–æ–º–µ—Ç—Ä–∏–∏

#### `expand_corners(corners, expansion=0.1) -> np.ndarray`
–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ –æ–±—Ä–µ–∑–∫–∏ –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –≤—Å–µ–≥–æ QR-–∫–æ–¥–∞

#### `perspective_transform(img, src_pts, output_size=210) -> np.ndarray`
–ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è:
- –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç QR-–∫–æ–¥ –≤ –∫–≤–∞–¥—Ä–∞—Ç –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `cv2.getPerspectiveTransform` –∏ `cv2.warpPerspective`

---

### 3. `src/sampler.py` - –°–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è QR-–∫–æ–¥–∞ –≤ –º–∞—Ç—Ä–∏—Ü—É –º–æ–¥—É–ª–µ–π (0/1).

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è:**

#### `sample_modules(warped_gray, dimension, module_pixels=10) -> np.ndarray`
–£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è:

**–≠—Ç–∞–ø—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏:**

1. **–£—Å–∏–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ (CLAHE):**
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∏–∑–∫–æ–º –∫–æ–Ω—Ç—Ä–∞—Å—Ç–µ (std < 40)
   - –£–ª—É—á—à–∞–µ—Ç —Ä–∞–∑–ª–∏—á–∏–º–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π

2. **–î–≤–æ–π–Ω–∞—è –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è:**
   - –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è (Gaussian, –±–ª–æ–∫ 11x11)
   - Otsu –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞
   - –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–∑—Ä—ã–≤–æ–≤

3. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è –±–µ—Ä–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å (60% —Ä–∞–∑–º–µ—Ä–∞)
   - **–ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–µ –ø–∞—Ç—á–∏** (std >= 12):
     - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è majority vote –∏–∑ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–∞—Ç—á–∞
     - –ü–æ—Ä–æ–≥: >= 45% —á–µ—Ä–Ω—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π = —á–µ—Ä–Ω—ã–π –º–æ–¥—É–ª—å
   - **–†–∞–∑–º—ã—Ç—ã–µ –ø–∞—Ç—á–∏** (std < 12):
     - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ—Ä–æ–≥–æ
     - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Otsu –ø–æ—Ä–æ–≥–æ–º + bias (-6) –¥–ª—è —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç–∏ –∫ —á–µ—Ä–Ω–æ–º—É

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `sample_ratio = 0.6` - –¥–æ–ª—è –º–æ–¥—É–ª—è –¥–ª—è —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- `low_std_threshold = 12.0` - –ø–æ—Ä–æ–≥ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è "—Ä–∞–∑–º—ã—Ç–æ—Å—Ç–∏"
- `bias = -6` - —Å–º–µ—â–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ –¥–ª—è –±–æ–ª–µ–µ "—á–µ—Ä–Ω–æ–≥–æ" —Ä–µ—à–µ–Ω–∏—è

---

### 4. `src/decoder.py` - –î–µ–∫–æ–¥–µ—Ä QR-–∫–æ–¥–æ–≤

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü—ã –º–æ–¥—É–ª–µ–π –≤ —Ç–µ–∫—Å—Ç.

**–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å:**

#### `UniversalQRDecoder`

**–ú–µ—Ç–æ–¥—ã:**

##### `decode(modules) -> (success, text, metadata)`
–ì–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è:
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–µ—Ä—Å–∏—é –∏ —Ç–∏–ø QR-–∫–æ–¥–∞ –ø–æ —Ä–∞–∑–º–µ—Ä—É –º–∞—Ç—Ä–∏—Ü—ã
- –í—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

##### `_decode_standard_qr(modules, version, metadata) -> (success, text, metadata)`
–î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ QR-–∫–æ–¥–∞:
- –ß–∏—Ç–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–æ—Ä–º–∞—Ç–µ (format info)
- –ü–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —É—Ä–æ–≤–Ω–µ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ (L/M/Q/H) –∏ –º–∞—Å–æ–∫ (0-7)
- –ü—Ä–∏ –Ω–µ—É–¥–∞—á–µ –ø—Ä–æ–±—É–µ—Ç –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏

##### `_decode_micro_qr(modules, version, metadata) -> (success, text, metadata)`
–î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ Micro QR-–∫–æ–¥–∞:
- –ü–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –¥–ª—è Micro QR

##### `_decode_with_parameters(modules, version, ec_level, mask_pattern, qr_type) -> (success, text, metadata)`
–î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
1. **–°–Ω—è—Ç–∏–µ –º–∞—Å–∫–∏** - –ø—Ä–∏–º–µ–Ω—è–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é –º–∞—Å–∫—É –∫ –º–æ–¥—É–ª—è–º
2. **–ß—Ç–µ–Ω–∏–µ –±–∏—Ç–æ–≤** - —á–∏—Ç–∞–µ—Ç –±–∏—Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ (–∑–∏–≥–∑–∞–≥)
3. **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –±–∞–π—Ç—ã** - –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –±–∏—Ç—ã –≤ –±–∞–π—Ç—ã
4. **–ö–æ—Ä—Ä–µ–∫—Ü–∏—è –æ—à–∏–±–æ–∫** - –ø—Ä–∏–º–µ–Ω—è–µ—Ç Reed-Solomon –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
5. **–ü–∞—Ä—Å–∏–Ω–≥ payload** - –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç –ø–æ —Ä–µ–∂–∏–º—É –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

##### `_unmask_modules(modules, mask_pattern, qr_type) -> np.ndarray`
–°–Ω—è—Ç–∏–µ –º–∞—Å–∫–∏ —Å –º–æ–¥—É–ª–µ–π:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –º–∞—Å–∫–∏ –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∏–ª–∏ Micro QR

##### `_mask_func_standard(mask, i, j) -> bool`
–§—É–Ω–∫—Ü–∏–∏ –º–∞—Å–∫–∏ –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ QR (8 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤):
- Mask 0: `(i + j) % 2 == 0`
- Mask 1: `i % 2 == 0`
- Mask 2: `j % 3 == 0`
- Mask 3: `(i + j) % 3 == 0`
- Mask 4: `((i // 2) + (j // 3)) % 2 == 0`
- Mask 5: `(i * j) % 2 + (i * j) % 3 == 0`
- Mask 6: `((i * j) % 2 + (i * j) % 3) % 2 == 0`
- Mask 7: `((i + j) % 2 + (i * j) % 3) % 2 == 0`

##### `_is_function_module_standard(r, c, dim) -> bool`
–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (–Ω–µ –¥–∞–Ω–Ω—ã—Ö):
- Finder patterns (3 —É–≥–ª–∞, 8x8 –º–æ–¥—É–ª–µ–π –∫–∞–∂–¥—ã–π)
- Separator (1 –º–æ–¥—É–ª—å –≤–æ–∫—Ä—É–≥ finder patterns)
- Timing patterns (—Å—Ç—Ä–æ–∫–∞ 6 –∏ –∫–æ–ª–æ–Ω–∫–∞ 6)
- Format information (15 –±–∏—Ç –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö)
- Dark module (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å)
- Alignment patterns (–¥–ª—è –≤–µ—Ä—Å–∏–π > 1)

##### `_read_bits_zigzag_standard(modules, version) -> List[int]`
–ß—Ç–µ–Ω–∏–µ –±–∏—Ç–æ–≤ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ:
- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–æ–≥–æ –Ω–∏–∂–Ω–µ–≥–æ —É–≥–ª–∞
- –î–≤–∏–∂–µ—Ç—Å—è –ø–∞—Ä–∞–º–∏ –∫–æ–ª–æ–Ω–æ–∫ —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ
- –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∫–æ–ª–æ–Ω–∫—É 6 (timing pattern)
- –ú–µ–Ω—è–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑) –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –∫–æ–ª–æ–Ω–æ–∫

##### `_read_bits_zigzag_micro(modules, version) -> List[int]`
–ß—Ç–µ–Ω–∏–µ –±–∏—Ç–æ–≤ –¥–ª—è Micro QR (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

##### `_apply_error_correction(data_bytes, version, ec_level, qr_type) -> bytes`
–ö–æ—Ä—Ä–µ–∫—Ü–∏—è –æ—à–∏–±–æ–∫ –†–∏–¥–∞-–°–æ–ª–æ–º–æ–Ω–∞:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `reedsolo`
- –í—ã—á–∏—Å–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü –≤–µ—Ä—Å–∏–π
- –û–±—Ä–µ–∑–∞–µ—Ç –∏–ª–∏ –¥–æ–ø–æ–ª–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–æ –Ω—É–∂–Ω–æ–π –¥–ª–∏–Ω—ã
- –î–µ–∫–æ–¥–∏—Ä—É–µ—Ç —Å –∫–æ—Ä—Ä–µ–∫—Ü–∏–µ–π –æ—à–∏–±–æ–∫

##### `_parse_payload(data, qr_type) -> str`
–ü–∞—Ä—Å–∏–Ω–≥ –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∂–∏–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–µ—Ä–≤—ã–µ 4 –±–∏—Ç–∞)
- –í—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–∞—Ä—Å–µ—Ä:
  - **Byte mode (0b0100):** UTF-8/ISO-8859-1 –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
  - **Alphanumeric mode (0b0010):** –±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
  - **Numeric mode (0b0001):** –±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

##### `_parse_byte_mode(bits) -> str`
–ü–∞—Ä—Å–∏–Ω–≥ –±–∞–π—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞:
- –ß–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ (8 –±–∏—Ç)
- –ß–∏—Ç–∞–µ—Ç —Å–∏–º–≤–æ–ª—ã (–ø–æ 8 –±–∏—Ç –∫–∞–∂–¥—ã–π)
- –ü—Ä–æ–±—É–µ—Ç –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ UTF-8, –∑–∞—Ç–µ–º ISO-8859-1, –∑–∞—Ç–µ–º hex

---

### 5. `src/version_info.py` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ä—Å–∏—è—Ö

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π QR-–∫–æ–¥–æ–≤.

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**

- **`QR_VERSION_TABLE`** - —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö QR-–∫–æ–¥–æ–≤ (–≤–µ—Ä—Å–∏–∏ 1-5+):
  - –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –º–∞—Ç—Ä–∏—Ü—ã
  - –ü–æ–∑–∏—Ü–∏–∏ alignment patterns
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ codewords
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è (L/M/Q/H)

- **`MICRO_QR_VERSION_TABLE`** - —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è Micro QR-–∫–æ–¥–æ–≤ (M1-M4)

- **`ALIGNMENT_PATTERN_POSITIONS`** - –ø–æ–∑–∏—Ü–∏–∏ alignment patterns –¥–ª—è –≤–µ—Ä—Å–∏–π 2-40

**–§—É–Ω–∫—Ü–∏–∏:**

- `detect_version_from_dimension(dimension) -> (version, qr_type)` - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–µ—Ä—Å–∏—é –ø–æ —Ä–∞–∑–º–µ—Ä—É –º–∞—Ç—Ä–∏—Ü—ã
- `get_version_info(version, qr_type='QR')` - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–µ—Ä—Å–∏–∏

---

### 6. `src/utils.py` - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.

**–§—É–Ω–∫—Ü–∏–∏:**

- `draw_polys(img, quads, color, thickness)` - –†–∏—Å—É–µ—Ç –º–Ω–æ–≥–æ—É–≥–æ–ª—å–Ω–∏–∫–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏
- `draw_points(img, points, color, r)` - –†–∏—Å—É–µ—Ç —Ç–æ—á–∫–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏
- `debug_binarization(img, bin_img, filename)` - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–∏

---

## üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

### –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (src/)

```
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    ‚Üì
[detector.py] –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ (grayscale, –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è)
    ‚Üì
[detector.py] –ü–æ–∏—Å–∫ finder patterns (–∫–æ–Ω—Ç—É—Ä—ã, –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å)
    ‚Üì
[detector.py] –ù–∞—Ö–æ–∂–¥–µ–Ω–∏–µ —É–≥–ª–æ–≤ QR-–∫–æ–¥–∞
    ‚Üì
[detector.py] –ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è (–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ)
    ‚Üì
[sampler.py] –°–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π (CLAHE, –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è, –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)
    ‚Üì
[decoder.py] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –ø–æ —Ä–∞–∑–º–µ—Ä—É –º–∞—Ç—Ä–∏—Ü—ã
    ‚Üì
[decoder.py] –ü–µ—Ä–µ–±–æ—Ä –º–∞—Å–æ–∫ –∏ —É—Ä–æ–≤–Ω–µ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏
    ‚Üì
[decoder.py] –°–Ω—è—Ç–∏–µ –º–∞—Å–∫–∏
    ‚Üì
[decoder.py] –ß—Ç–µ–Ω–∏–µ –±–∏—Ç–æ–≤ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ (–∑–∏–≥–∑–∞–≥)
    ‚Üì
[decoder.py] –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –±–∞–π—Ç—ã
    ‚Üì
[decoder.py] –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –æ—à–∏–±–æ–∫ (Reed-Solomon)
    ‚Üì
[decoder.py] –ü–∞—Ä—Å–∏–Ω–≥ payload (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞)
    ‚Üì
–†–µ–∑—É–ª—å—Ç–∞—Ç: –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
```

### OpenCV —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (main.py)

```
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    ‚Üì
cv2.QRCodeDetector().detectAndDecode()
    ‚Üì
–†–µ–∑—É–ª—å—Ç–∞—Ç: –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (OpenCV)

```python
from main import run_image

# –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º OpenCV –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞
data = run_image('images/qr_image.png', 'debug_output.png')
if data:
    print(f"–î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: {data}")
```

### –ü—Ä–∏–º–µ—Ä 1.1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```python
from main import run_image_custom

# –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
data = run_image_custom('images/qr_image.png', 'debug_custom.png')
if data:
    print(f"–î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: {data}")
```

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π –∏–∑ src/

```python
import cv2
from src.detector import preprocess, find_finder_patterns, find_qr_corners, perspective_transform
from src.sampler import sample_modules
from src.decoder import UniversalQRDecoder
from src.version_info import QR_VERSION_TABLE

# –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
img = cv2.imread('images/qr_image.png')
bin_img, gray = preprocess(img)

# –ü–æ–∏—Å–∫ finder patterns
finders = find_finder_patterns(bin_img)
if len(finders) >= 3:
    # –ù–∞—Ö–æ–∂–¥–µ–Ω–∏–µ —É–≥–ª–æ–≤
    corners = find_qr_corners(finders, img.shape[:2])
    
    # –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ
    warped = perspective_transform(gray, corners, output_size=210)
    
    # –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ - –ø—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
    decoder = UniversalQRDecoder()
    for version, info in QR_VERSION_TABLE.items():
        dimension = info['dimension']
        modules = sample_modules(warped, dimension)
        success, text, metadata = decoder.decode(modules)
        
        if success:
            print(f"–î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ –≤–µ—Ä—Å–∏–µ–π {version}: {text}")
            print(f"–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: {metadata}")
            break
```

### –ü—Ä–∏–º–µ—Ä 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```python
import os
from main import run_image

image_dir = 'images'
for filename in os.listdir(image_dir):
    if filename.endswith(('.png', '.jpg', '.jpeg')):
        path = os.path.join(image_dir, filename)
        print(f"\n–û–±—Ä–∞–±–æ—Ç–∫–∞: {filename}")
        data = run_image(path, f'debug_{filename}')
        if data:
            print(f"‚úÖ –£—Å–ø–µ—à–Ω–æ: {data}")
        else:
            print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å")
```

---

## üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ QR-–∫–æ–¥–æ–≤ (OpenCV –∏ –∫–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö QR-–∫–æ–¥–æ–≤ –≤–µ—Ä—Å–∏–π 1-5
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—à–∏–±–æ–∫ (L, M, Q, H)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –º–∞—Å–æ–∫ (0-7)
- Byte mode –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (UTF-8, ISO-8859-1)
- –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ

### ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- Micro QR –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ (–±–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞)
- Alphanumeric mode (–∑–∞–≥–ª—É—à–∫–∞)
- Numeric mode (–∑–∞–≥–ª—É—à–∫–∞)
- –í–µ—Ä—Å–∏–∏ QR-–∫–æ–¥–æ–≤ –≤—ã—à–µ 5 (—Ç–∞–±–ª–∏—Ü—ã –Ω–µ–ø–æ–ª–Ω—ã–µ)

### üîß –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π QR-–∫–æ–¥–æ–≤ (1-40)
- –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è alphanumeric –∏ numeric —Ä–µ–∂–∏–º–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö QR-–∫–æ–¥–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–≤–µ—Ç–Ω—ã—Ö QR-–∫–æ–¥–æ–≤

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã —Å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º

–ï—Å–ª–∏ QR-–∫–æ–¥ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, –∫–æ–Ω—Ç—Ä–∞—Å—Ç)
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫—É –≤—Ä—É—á–Ω—É—é (—É–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞, –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ QR-–∫–æ–¥ –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏

### –ü—Ä–æ–±–ª–µ–º—ã —Å –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

–ï—Å–ª–∏ QR-–∫–æ–¥ –æ–±–Ω–∞—Ä—É–∂–µ–Ω, –Ω–æ –Ω–µ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ (—Ñ–∞–π–ª `warped.png`)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ä—Å–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–µ–∫–æ–¥–µ—Ä–∞ (–ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ)
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —É—Ä–æ–≤–µ–Ω—å –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—à–∏–±–æ–∫

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (`src/`) –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ QR-–∫–æ–¥–æ–≤
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è `main.py` —Å OpenCV –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–º
- –ö–æ–¥ –º–æ–¥—É–ª—å–Ω—ã–π –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π –∏ —Ä–µ–∂–∏–º–æ–≤

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö.

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- OpenCV –∑–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π QR –¥–µ—Ç–µ–∫—Ç–æ—Ä
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `reedsolo` –∑–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—à–∏–±–æ–∫ –†–∏–¥–∞-–°–æ–ª–æ–º–æ–Ω–∞
- –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è ISO/IEC 18004 –¥–ª—è QR-–∫–æ–¥–æ–≤
